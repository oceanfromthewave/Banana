.luckyModalBG {
  position: fixed;
  inset: 0;
  z-index: 9999;
  background: rgba(0,0,0,0.29);
  /* 전체 앱 블러 처리 */
  backdrop-filter: blur(7px);
  display: flex;
  align-items: center;
  justify-content: center;
  animation: fadein .5s;

  @keyframes fadein {
    from { opacity: 0;}
    to   { opacity: 1;}
  }
}

.centerWrap {
  text-align: center;
  user-select: none;
}

.guide {
  font-size: 1.37rem;
  font-weight: 700;
  color: #222;
  margin-bottom: 26px;
  letter-spacing: -0.7px;
  text-shadow: 0 2px 8px #fff8;
}

.boxWrap {
  position: relative;
  width: 170px;
  height: 170px;
  margin: 0 auto;
  display: flex;
  align-items: center;
  justify-content: center;
}

.boxImg {
  width: 154px;
  height: 154px;
  transition: transform 0.82s cubic-bezier(.48,-0.22,.56,1.41);
  box-shadow: 0 10px 44px #ffea8c99, 0 0 0 #fff0;
  cursor: pointer;
  border-radius: 24px;
  background: #fff;
  border: 3.5px solid #ffe066;
  outline: none;
  &:hover, &:focus {
    box-shadow: 0 0 0 6px #ffd70044, 0 6px 44px #ffe06644;
    border-color: #ffd700;
  }
  &:active {
    transform: scale(0.97) rotate(-2deg);
  }
}
.opened {
  /* 열릴 때 lift-up + shake */
  animation: boxOpen 0.8s cubic-bezier(.57,-0.03,.59,1.13) forwards;
}
@keyframes boxOpen {
  0%   { transform: scale(1) rotate(0);}
  30%  { transform: scale(1.09) rotate(-9deg);}
  60%  { transform: scale(1.25) rotate(13deg);}
  85%  { transform: scale(1.1)  rotate(-7deg);}
  100% { transform: scale(1.14) rotate(0);}
}

.clickGuide {
  position: absolute;
  left: 0; right: 0; bottom: -38px;
  color: #444;
  font-size: 1rem;
  font-weight: 600;
  text-shadow: 0 2px 12px #fff;
  letter-spacing: 1px;
  animation: upGuide 1.2s infinite alternate;
}
@keyframes upGuide {
  from { opacity: 0.8; transform: translateY(0);}
  to   { opacity: 1;   transform: translateY(-8px);}
}

.resultPanel {
  position: absolute;
  left: 50%; top: 58%;
  transform: translate(-50%, -40%);
  width: 200px;
  font-size: 1.16rem;
  font-weight: 700;
  color: #fff;
  padding: 22px 12px 17px 12px;
  border-radius: 16px;
  box-shadow: 0 6px 32px #3334;
  background: linear-gradient(120deg, #ffec9a 40%, #ffc700 100%);
  text-align: center;
  opacity: 0;
  animation: showResult .38s .12s cubic-bezier(.62,.03,.54,.98) forwards;
}

@keyframes showResult {
  from { opacity: 0; transform: translate(-50%, 15%);}
  to   { opacity: 1; transform: translate(-50%, -40%);}
}

.prize {
  color: #9f7800;
  font-size: 1.13rem;
  .emoji {
    font-size: 2.7rem;
    vertical-align: middle;
    margin-right: 9px;
    filter: drop-shadow(0 2px 16px #fff2);
  }
  .prizeName {
    font-size: 1.3rem;
    vertical-align: middle;
    font-weight: 900;
  }
}
.failMsg {
  color: #555;
  font-size: 1.15rem;
  .resultMsg {
    font-size: 1rem;
    color: #b99;
    margin-left: 7px;
  }
}
